(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{142:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(110),o=a.n(c),r=(a(142),a(22)),s=a(19),i=a(15),l=a.p+"static/media/logo.4cb8c5bb.png",u=a(26),j=a(3),b=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("nav",{className:"headerNav",children:[Object(j.jsx)(u.b,{to:"/",className:"logoBox",children:Object(j.jsx)("img",{className:"logo",src:l,alt:"logo"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(u.b,{to:"/statistics",activeStyle:{textDecoration:"underline"},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})}),Object(j.jsx)("li",{children:Object(j.jsx)(u.b,{to:"/expenses",activeStyle:{textDecoration:"underline"},children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"})})]})]})})},g=a(7),d=a(256),O=function(e){var t;return t=e.totalCost>0?Object(j.jsx)(d.a,{colorScale:["tomato","orange","gold","cyan","silver","white"],data:e.pieData,height:550,width:550,animate:{duration:1300},labelRadius:150,style:{labels:{fontSize:20,fill:"black"}}}):"\u0420\u0430\u0441\u0445\u043e\u0434\u043e\u0432 \u043d\u0435\u0442",Object(j.jsxs)("div",{children:[Object(j.jsxs)("h2",{className:"totalCost",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430 ",e.totalCost]}),e.categories.map((function(t){if(!(t.name.length<=0))return Object(j.jsxs)("h2",{className:"categories",children:[t.name,":",Object(j.jsx)("span",{children:t.sum}),Object(j.jsx)("button",{className:"btnDel",onClick:function(){return e.deleteCategory(t.id,t.name)},children:"X"})]},t.id)})),Object(j.jsxs)("div",{className:"pie",children:[Object(j.jsx)("span",{}),t]})]})},h=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(O,{categories:e.categories,deleteCategory:e.deleteCategory,totalCost:e.totalCost,pieData:e.pieData})})},x=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("ul",{className:"notes btnDel",children:e.notes.length?e.notes.map((function(t){return Object(j.jsxs)("li",{className:"notesItem",children:[Object(j.jsxs)("div",{className:"noteTitle",children:[Object(j.jsx)("div",{children:t.text}),Object(j.jsx)("div",{children:t.date}),Object(j.jsx)("div",{className:"nameCategory",children:t.category})]}),Object(j.jsxs)("span",{className:"noteCost",children:[Object(j.jsx)("div",{children:t.price}),Object(j.jsx)("button",{onClick:function(){e.deleteNote(t.id)},children:"X"})]})]},t.id)})):Object(j.jsx)("div",{children:"\u0417\u0430\u043c\u0435\u0442\u043e\u043a \u043d\u0435\u0442"})})})},m=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"inputBox",children:[Object(j.jsx)("input",{type:"text",value:e.textNote,onChange:e.setText,placeholder:"Text note"}),Object(j.jsx)("input",{type:"number",placeholder:e.price,value:e.price,onChange:e.setPrice}),Object(j.jsx)("input",{type:"text",placeholder:"enter new category",value:e.newCategory,onChange:function(t){e.setNewCategory(t.target.value)}})]}),Object(j.jsxs)("div",{className:"buttonBox",children:[Object(j.jsx)("button",{className:"buttonBoxItem",onClick:e.addNote,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(j.jsx)("button",{className:"buttonBoxItem",onClick:function(){return e.addCategory(e.newCategory)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),Object(j.jsx)("button",{className:"buttonBoxItem",onClick:e.clearNotes,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0451"}),Object(j.jsxs)("select",{className:"buttonBoxItem",value:e.selectCategory.value,onChange:e.changeCategory,children:[e.categories.map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)})),Object(j.jsx)("option",{},"empty")]})]}),Object(j.jsxs)("div",{className:"sortBox",children:[Object(j.jsx)("h2",{className:"sort",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e ...."}),Object(j.jsx)("select",{value:e.selectSortCategory.value,onChange:function(t){e.changeSortCategory(t.target.value),e.sortNotes(t.target.value)},children:e.sortCategories.map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.value},e.value)}))})]})]})},f=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{textNote:e.textNote,setText:e.setText,addNote:e.addNote,price:e.price,setPrice:e.setPrice,clearNotes:e.clearNotes,selectCategory:e.selectCategory,changeCategory:e.changeCategory,addCategory:e.addCategory,categories:e.categories,newCategory:e.newCategory,setNewCategory:e.setNewCategory,sortCategories:e.sortCategories,selectSortCategory:e.selectSortCategory,changeSortCategory:e.changeSortCategory,sortNotes:e.sortNotes}),Object(j.jsx)(x,{notes:e.notes,deleteNote:e.deleteNote,categories:e.categories})]})};var v=function(){Object(n.useEffect)((function(){$(a),localStorage.setItem("notes",JSON.stringify(a)),localStorage.setItem("categories",JSON.stringify(u))}));var e=Object(n.useState)((function(){var e=localStorage.getItem("notes");return JSON.parse(e)||[]})),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)((function(){var e=localStorage.getItem("categories"),t=JSON.parse(e);return null==t||0==t.length?[{id:0,name:"\u0415\u0434\u0430",sum:0},{id:1,name:"\u0421\u0432\u044f\u0437\u044c",sum:0}]:t})),l=Object(i.a)(o,2),u=l[0],d=l[1],O=Object(n.useState)(0),x=Object(i.a)(O,2),m=x[0],v=x[1],p=Object(n.useState)("Taxi"),C=Object(i.a)(p,2),y=C[0],N=C[1],S=Object(n.useState)(100),w=Object(i.a)(S,2),D=w[0],I=w[1],B=Object(n.useState)({value:""}),T=Object(i.a)(B,2),k=T[0],E=T[1],F=Object(n.useState)("newCategory"),J=Object(i.a)(F,2),P=J[0],L=J[1],M=Object(n.useState)([{value:"\u0421\u0432\u0435\u0436\u0438\u0435"},{value:"\u0414\u0430\u0432\u043d\u0438\u0435"},{value:"\u0414\u043e\u0440\u043e\u0433\u0438\u0435"},{value:"\u0414\u0435\u0448\u0435\u0432\u044b\u0435"}]),X=Object(i.a)(M,2),z=X[0],A=(X[1],Object(n.useState)({value:"\u0414\u0430\u0432\u043d\u0438\u0435"})),R=Object(i.a)(A,2),q=R[0],G=R[1],H=function(e){G({value:e})},K=function(e){var t=Object(s.a)(a);"\u0421\u0432\u0435\u0436\u0438\u0435"===e.value?c(t.sort((function(e,t){return t.numDate-e.numDate}))):"\u0414\u0430\u0432\u043d\u0438\u0435"===e.value?c(t.sort((function(e,t){return e.numDate-t.numDate}))):"\u0414\u043e\u0440\u043e\u0433\u0438\u0435"===e.value?c(t.sort((function(e,t){return+t.price-+e.price}))):"\u0414\u0435\u0448\u0435\u0432\u044b\u0435"===e.value&&c(t.sort((function(e,t){return+e.price-+t.price})))},Q=Object(n.useState)([]),U=Object(i.a)(Q,2),V=U[0],W=U[1],Y=function(){var e=[];Object(s.a)(u).map((function(t){t.sum>0&t.name.length>0&&e.push({x:t.name,y:t.sum})})),W(e)},Z=function(e){if(!(e.length<=0)){var t=Object(s.a)(u),a={id:1e5*Math.random(100),name:e,price:0},n=0;u.forEach((function(t){t.name==e&&n++})),n<=0?t.push(a):n=null,d(t),L("")}},$=function(e){var t=0;e.map((function(e){return t+=+e.price})),v(t)},_=function(){var e=Object(s.a)(u);e.map((function(e){return e.sum=0})),a.forEach((function(t){e.forEach((function(e){if(t.category==e.name&e.name.length>0)return e.sum+=+t.price}))})),d(e)},ee=function(e){var t=Object(s.a)(a);t=t.filter((function(t){return t.id!==e})),c(t)},te=function(e,t){var n=Object(s.a)(u);n=n.filter((function(t){return t.id!==e}));var o=Object(s.a)(a);o=o.filter((function(e){return e.category!==t})),E({value:""}),d(n),c(o)},ae=function(e){N(e.target.value)},ne=function(e){I(e.target.value)},ce=function(){c([]),localStorage.clear(),_()},oe=function(){if(!(u.length<=0||k.value.length<=0)){var e=new Date,t={id:1e5*Math.random(100),text:y,price:D,category:k.value,date:e.toLocaleString(),numDate:e.getTime()};c([].concat(Object(s.a)(a),[t])),$(a),I(10),N(""),localStorage.setItem("notes",JSON.stringify(a)),_(),Y()}},re=function(e){E({value:e.target.value})};return Object(n.useEffect)((function(){_(),Y()}),[a]),Object(n.useEffect)((function(){K(q)}),[q]),window.notes=a,Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(g.a,{path:"*",component:b}),Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)(g.a,{path:"/statistics",render:function(){return Object(j.jsx)(h,{categories:u,deleteCategory:te,totalCost:m,pieData:V})}}),Object(j.jsx)(g.a,{path:"/expenses",render:function(){var e;return Object(j.jsx)(f,(e={notes:a,deleteNote:ee,categories:u,textNote:y,setText:ae,addNote:oe,price:D,setPrice:ne,clearNotes:ce,selectCategory:k,changeCategory:re,addCategory:Z},Object(r.a)(e,"categories",u),Object(r.a)(e,"newCategory",P),Object(r.a)(e,"setNewCategory",L),Object(r.a)(e,"sortCategories",z),Object(r.a)(e,"selectSortCategory",q),Object(r.a)(e,"changeSortCategory",H),Object(r.a)(e,"sortNotes",K),e))}})]})]})},p=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,257)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),o(e),r(e)}))};o.a.render(Object(j.jsx)(u.a,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),p()}},[[252,1,2]]]);
//# sourceMappingURL=main.ea32c0f9.chunk.js.map